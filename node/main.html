<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BeagleBone Black Oscilloscope</title>
	
	<!-- scripts loaded first -->
	<script src="/socket.io/socket.io.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="/js/jquery.flot.js"></script>

	<!-- script to update oscilloscope when data is pushed from server to client -->
	<script>
	  var socket = io();
	  socket.on('notification', function (data) {
	    $.plot("#oscilloscope", [data.theData]);
  	  });
	</script>
  </head>
  <body>
	<div class="container">

	  <!-- Oscilloscope plot -->
	  <div id="oscilloscope" style="width:100%;height:512px"></div>

	  <!-- Tabs -->
	  <ul class="nav nav-tabs">
	    <li class="active"><a data-toggle="tab" href="#openLoop">Open Loop</a></li>
	    <li><a data-toggle="tab" href="#closedLoop">Closed Loop</a></li>
	  </ul>

	  <!-- tab content -->
	  <div class="tab-content">
	    <div id="openLoop" class="tab-pane fade in active">
	    </div>
	    <div id="closedLoop" class="tab-pane fade">
	    </div>
	  </div>

	  <!-- bootstrap navbar -->
	  <nav class="navbar navbar-inverse navbar-fixed-bottom">
	    <div class="container">
	      <div class="navbar-header">
		<a class="navbar-brand">BeagleBone Black Oscilloscope</a>
		<button onclick="run()" class="btn btn-primary navbar-btn" aria-expanded="false">RUN</button>

		<!-- run function -->
	   	<script>
		function run(){
	    	  var socket = io();
	      	  socket.emit('run');
	      	  return false;
		}
	  	</script>
	      </div>
	    </div>
	  </nav>

	</div>

	<!-- bootstrap scripts -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>
